AWSTemplateFormatVersion: '2010-09-09'
Description: Linkly DynamoDB por entorno

Parameters:
  Environment:
    Type: String
    AllowedValues: [staging, production]
    Default: staging

Resources:
  LinklyTable:
    Type: AWS::DynamoDB::Table
    Properties:
      TableName: !Sub LinklyTable-${Environment}
      BillingMode: PAY_PER_REQUEST
      AttributeDefinitions:
        - { AttributeName: PK, AttributeType: S }
        - { AttributeName: SK, AttributeType: S }
      KeySchema:
        - { AttributeName: PK, KeyType: HASH }
        - { AttributeName: SK, KeyType: RANGE }

Outputs:
  TableName:
    Value: !Ref LinklyTable
    Export: { Name: !Sub linkly-${Environment}-DynamoTable }
