[pytest]
# Directorio raíz de Python
pythonpath = .

# Opciones por defecto - CRÍTICO: usar --cov sin argumentos para medir TODO
addopts = 
    -v
    --color=yes
    --tb=short
    --cov
    --cov-config=.coveragerc
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-report=xml:coverage.xml
    --cov-branch
    --html=report.html
    --self-contained-html
    --strict-markers

# Directorios de tests
testpaths = tests

# Ignorar estos directorios
norecursedirs = 
    .git 
    venv 
    env 
    .* 
    _* 
    build 
    dist 
    htmlcov 
    .github
    __pycache__
    *.egg-info
    templates

# Marcadores personalizados
markers =
    smoke: marca tests de smoke
    acceptance: marca tests de aceptación
    unit: marca tests unitarios
    integration: marca tests de integración

# Configuración de coverage (referencia a .coveragerc)
# Ver .coveragerc para configuración detallada